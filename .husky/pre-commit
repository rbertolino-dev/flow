#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Pre-commit hook para validar cÃ³digo antes de commit
# 
# Executa:
# - Lint (ESLint)
# - Type check (TypeScript)
# - Testes unitÃ¡rios (se houver)
# - FormataÃ§Ã£o (se configurado)

echo "ğŸ” Executando validaÃ§Ãµes prÃ©-commit..."

# 1. Lint
echo "ğŸ“ Executando ESLint..."
npm run lint || {
  echo "âŒ ESLint encontrou erros. Corrija antes de fazer commit."
  exit 1
}

# 2. Type check
echo "ğŸ”· Verificando tipos TypeScript..."
npx tsc --noEmit || {
  echo "âŒ Erros de tipo encontrados. Corrija antes de fazer commit."
  exit 1
}

# 3. Build check (verifica se compila)
echo "ğŸ—ï¸  Verificando build..."
npm run build:dev || {
  echo "âŒ Build falhou. Corrija antes de fazer commit."
  exit 1
}

echo "âœ… Todas as validaÃ§Ãµes passaram!"





